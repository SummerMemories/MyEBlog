<!DOCTYPE html>
<html lang="en">
<head th:replace = "admin/_fragments :: head(~{::title})">
	<meta charset="UTF-8">
	<meta name ="viewport" content="width=device-width,initial-scale=1.0">
	<title>博客发布</title>
	<link rel="stylesheet" href="../../static/lib/editormd/css/editormd.min.css">
 	<link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
 	<link rel="stylesheet" href="../../static/css/me.css">
</head>
 
<body>
	
	<!-- 导航 -->
	<nav th:replace = "admin/_fragments :: menu(1)" class = "ui inverted vertical segment m-padded-tb-mini m-shadow-small">
		<div class="ui container">
			<div class="ui inverted secondary stackable menu">
				<h2 class="ui teal header item">后台管理</h2>
				<a href="#" class="m-item item m-mobile-hide"><i class="home icon"></i>博客</a>
				<a href="#" class="m-item item m-mobile-hide"><i class="idea icon"></i>分类</a>
				<a href="#" class="m-item item m-mobile-hide"><i class="tags icon"></i>标签</a>
				<div class="right m-item m-mobile-hide menu">
					<div class="ui dropdown item">
						<div class="text">
							<img class="ui avatar image" src="../../static/image/1.jpg" >
						</div>
						<i class="dropdown icon"></i>
						<div class="menu">
							<a href="#" class="item">注销</a>
						</div>
					</div>
				</div>

			</div>
		</div>
		<a href="#" class="ui menu toggle black icon button m-top-right m-mobile-show">
			<i class="sidebar icon"></i>
		</a>
	</nav>
	<div class="ui attached pointing m-opactiy-big menu">
		<div class="ui container">
			<div class="right menu">
				<a href="#" class="teal active item">发布</a>
				<a href="#" class="item">列表</a>
			</div>
		</div>
	</div>

	
	<!-- 中间 -->
	<div class="m-container-small m-padded-tb-big">
		<div class="ui container">
      		<form id="blog-form" action="#" method="post" class="ui form">
     

		        <div class="required field  m-opactiy-big">
		          <div class="ui left labeled input">
		            <div class="ui selection compact teal basic dropdown label">
		              <input type="hidden" value="原创" name="flag">
		              <i class="dropdown icon"></i>
		              <div class="teal text">原创</div>
		              <div class="menu">
		                <div class="item" data-value="原创">原创</div>
		                <div class="item" data-value="转载">转载</div>
		                <div class="item" data-value="翻译">翻译</div>
		              </div>
		            </div>
		            <input type="text" name="title" placeholder="标题">
		          </div>
		        </div>


		        <div class="required field ">
		        	<div id = "md-content" class="m-z-index">
		        		<textarea placeholder="博客内容..." name="content" style="display: none">
			        		#### Disabled options
							- TeX (Based on KaTeX);
							- Emoji;
							- Task lists;
							- HTML tags decode;
							- Flowchart and Sequence Diagram;
						</textarea>
		        	</div>
		        </div>

		        <div class="two fields  m-opactiy-big">
		          	<div class="required field">
		            	<div class="ui left labeled action input">
		              		<label class="ui compact teal basic label">分类</label>
		              		<div class="ui fluid selection dropdown">
			                	<!--新增-->
			                	<input type="hidden" name="type.id" >
			                	<!--编辑-->
			                	<input type="hidden" name="typeId" >
			                	<i class="dropdown icon"></i>
			                	<div class="default text">分类</div>
				                <div class="menu">
				                  <div class="item" data-value="1">我的故事</div>
				                  <div class="item" data-value="2">错误日志</div>
				                </div>
		              		</div>
		            	</div>
		          	</div>

		          	<div class="required field  m-opactiy-big">
		           		<div class="ui left labeled action input">
		              		<label class="ui compact teal basic label">标签</label>
		              		<div class="ui fluid selection multiple search dropdown">
			                	<!--新增-->
			                	<input type="hidden" name="tags.id" >
			                	<!--编辑-->
			                	<input type="hidden" name="tagsId" >
			                	<i class="dropdown icon"></i>
			                	<div class="default text">标签</div>
				                <div class="menu">
				                 	<div class="item" data-value="1">Java</div>
				                 	<div class="item" data-value="2">JavaScript</div>
				                </div>
		              		</div>
		            	</div>
		        	</div>
		        </div>
			
				<div class="required field  m-opactiy-big">
					<div class="ui left labeled input">
						<label class="ui teal basic label">首图</label>
						<input type="text" name="indexPicture" placeholder="首图引用地址">
					</div>
					
				</div>

		        <div class="inline fields  m-opactiy-big">
		          <div class="field">
		            <div class="ui checkbox">
		              <input type="checkbox" id="recommend" name="recommend" checked class="hidden">
		              <label for="recommend">推荐</label>
		            </div>
		          </div>
		          <div class="field  m-opactiy-big">
		            <div class="ui checkbox">
		              <input type="checkbox" id="shareStatement" name="shareStatement" class="hidden">
		              <label for="shareStatement">转载声明</label>
		            </div>
		          </div>
		          <div class="field  m-opactiy-big">
		            <div class="ui checkbox">
		              <input type="checkbox" id="appreciation" name="appreciation" class="hidden">
		              <label for="appreciation">赞赏</label>
		            </div>
		          </div>
		          <div class="field  m-opactiy-big">
		            <div class="ui checkbox">
		              <input type="checkbox" id="commentabled" name="commentabled" class="hidden">
		              <label for="commentabled">评论</label>
		            </div>
		          </div>
		        </div>

	        	<div class="ui error message"></div>

		        <div class="ui right aligned container  m-opactiy-big">
		          <button type="button" class="ui green button" onclick="window.history.go(-1)">
		          	返回
		          </button>
		          <button type="button" id="save-btn" class="ui red button">保存</button>
		          <button type="button" id="publish-btn" class="ui teal button">发布</button>
		        </div>

      		</form>
    	</div>
	</div>
	

	<!-- 底部footer -->
	<footer th:replace = "admin/_fragments :: footer" class="ui inverted vertical segment m-padded-tb-massive m-opacity m-opactiy-mini">
	    <!--容器-->
	    <div class="ui center aligned container">
	        <div class="ui inverted divided stackable grid">
	            <div class="four wide column" >
		        	<div class = "ui inverted link list">
		        		<div class = "item">
							<img src="" class="ui rounded image" alt="" style="width: 110px">
		        		</div> 
		        	</div>
		        </div>
	        
		        <div class="four wide column" >
		        	<h4 class = "ui inverted header m-text-spaced m-opactiy-mini">最新博客</h4>
		        	<div class="ui inverted link list">
						<a href="#" class="item">用户故事(User Story)</a>
						<a href="#" class="item">用户故事(User Story)</a>
						<a href="#" class="item">用户故事(User Story)</a>
		        	</div>
		        </div>

		        <div class="four wide column">
		        	<h4 class = "ui inverted header m-text-spaced m-opactiy-mini">联系我</h4>
		        	<div class="ui inverted link list">
						<a href="#" class="item">Email: 1753800014@qq.com</a>
						<a href="#" class="item">QQ : 1753800014</a>
		        	</div> 
		        </div>
		  
		        <div class="four wide column">
		            <h4 class = "ui inverted header m-text-spaced m-opactiy-mini">博客介绍</h4>
		        	<div class="ui inverted link list">
						<a href="#" class="item">用户故事(User Story)</a>
						<a href="#" class="item">用户故事(User Story)</a>
						<a href="#" class="item">用户故事(User Story)</a>
		        	</div>   
		        </div>
	        </div>
	        <div class="ui inverted section divider"></div>
	        <a class="m-text-thin m-text-spaced m-opactiy-mini" rel="nofollow" href="http://www.beian.miit.gov.cn" target="_blank">赣ICP备20004408号-1</a>
	    </div>

	</footer>



<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>
<script src="../../static/lib/editormd/editormd.min.js"></script>

<script>
		//初始画Markdown编辑器
		var contentEditor;
        $(function() {
            contentEditor = editormd("md-content", {
                width   : "100%",
                height  : 640,
                syncScrolling : "single",
                path    : "../../static/lib/editormd/lib/"
            });
        });


		$('.menu.toggle').click(function(){
			$('.m-item').toggleClass('m-mobile-hide');
		});

		$('.ui.dropdown').dropdown({
			on: 'hover'
		});

		$('#save-btn').click(function () {
	      	$('[name="published"]').val(false);
	      	$('#blog-form').submit();
	    });


	    $('#publish-btn').click(function () {
	      	$('[name="published"]').val(true);
	      	$('#blog-form').submit();
	    });


		$('.ui.form').form({
      		fields : {
        		title : {
          		identifier: 'title',
          		rules: [{
            		type : 'empty',
            		prompt: '标题：请输入博客标题'
          		}]
        	},
        	content : {
          		identifier: 'content',
          		rules: [{
            	type : 'empty',
            	prompt: '标题：请输入博客内容'
          		}]
        	},
        	typeId : {
          		identifier: 'type.id',
          		rules: [{
            		type : 'empty',
            		prompt: '标题：请输入博客分类'
          		}]
        	},
        	tagsId : {
          		identifier: 'tags.id',
          		rules: [{
            		type : 'empty',
            		prompt: '标题：请输入博客标签'
          		}]
        	},
        	indexPicture : {
	          	identifier: 'indexPicture',
	          	rules: [{
	            type : 'empty',
	            prompt: '标题：请输入博客首图'
	          }]
	        }
      	}
    });

</script>
</body>
</html>